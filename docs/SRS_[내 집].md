## Software Requirements Specification (SRS) & System Testing

### Project Title
**내집**

---

### Project Description
이 프로젝트는 부동산 매물 등록과 검증, 관리, 거래를 통합적으로 지원하는 웹 기반 플랫폼으로서, 사용자가 매물 소유권 증명 서류를 제출하고 관리자가 이를 승인·거절하며 기록하는 과정을 체계적으로 관리할 수 있도록 한다. 또한 전체 매물, 내 매물, 타인 매물 조회 및 상세 정보 확인을 지원하고, 지도 기반 시각화를 통해 매물 위치, 유동인구, 편의시설, 즐겨찾기 매물 등을 직관적으로 확인할 수 있게 한다. 특히 국토교통부 실거래가 데이터를 활용한 시세 비교, 평균·중위 가격 산출, 가격 추세 분석, 이상 거래 탐지, 전세가율 계산기, 머신러닝 기반 시세 예측 기능을 제공하여 사용자에게 신뢰할 수 있는 시장 정보를 제공한다. 이와 함께 매물별 채팅방과 메시지 송수신, 알림 기능, 평점 시스템을 통해 거래 과정의 원활한 소통과 신뢰성을 확보하고, 회원가입·로그인·토큰 관리·프로필 관리 등 사용자 계정 관리 기능으로 안전성을 강화한다. 이를 통해 사용자와 중개인, 관리자 모두에게 효율적이고 투명하며 예측 가능한 부동산 거래 환경을 제공하는 것을 목표로 한다.

---

### Team Members

| Student ID | Name   |
|------------|--------|
| 22213485   | 박차오름 |
| 22213489   | 표주원   |
| 22112123   | 김도림   |
| 22213478   | 김진선   |
| 22112017   | 박진우   |
| 22112353   | 김동근   |

---

|   ID   | 업무명 | 요약 |        세부요구사항 설명        | 입력변수 | 정상 입력값 | 예외 입력값 | 추적성 | 우선순위 | 테스트 결과 |
|:------:|:------:|:---:|:-----------------------:|:--------:|:----------:|:----------:|:------:|:----:|:-----------:|
|   1    |매물 등록 신청|||||||||
|  1.1   ||사용자가 매물 소유권 증면을 위한 신청서를 상세정보와 필수 서류와 함께 제출한다.|||||||||
| 1.1.1  |||신청자 정보 입력 폼을 통해 이름, 연락처, 매물과의 관계을 입력한다.|||||H||
| 1.1.2  |||지도에서 주소 검색 후 좌표 선택 시 주소가 자동 조회되며, 주소 검색 시 지도 API를 통해 해당 위치가 표시된다.||||4.1.4|H||
| 1.1.3  |||소유권 증명 서류 업로드 시 파일 형식과 크기를 검증하고, 저장 시 파일명과 업로드 시간이 기록된다.||||5.1.2, 5.1.4|H||
| 1.1.4  |||필수 입력값(이름, 연락처, 주소, 파일 등)이 올바른 형식이 아닐 경우 오류 메세지를 출력한다.|||||H||
| 1.1.5  |||연락처 형식이 잘못되거나 파일 크기 제한을 초과하면 에러 메시지를 출력한다.|||||H||
|   2    |매물 신청 현황 조회|||||||||
|  2.1   ||사용자가 신청한 매물들의 상태를 확인한다.|||||||||
| 2.1.1  |||관리자를 통해 승인된 신청은 '승인됨'으로 표시한다.||||7.1.3|H||
| 2.1.2  |||신청 상태가 '심사중'이면 남은 일수, '거절됨'이면 거절 사유를 함께 표시한다.||||7.1.4|H||
| 2.1.3  |||신청에 첨부된 서류는 원본 파일명으로 다운로드 할 수 있다.||||5.1.4|H||
|   3    |매물 관리 현황 요약|||||||||
|  3.1   ||전체 매물 관리 상황을 한눈에 파악할 수 있도록 요약 정보를 제공한다.|||||||||
| 3.1.1  |||각 상태별 매물 건 수를 계산하여 사용자에게 제공한다.||||8.1.2|H||
| 3.1.2  |||매물 내역이 존재하지 않으면 "현재 등록된 매물이 없습니다."라는 안내 문구를 출력한다.|||||H||
| 3.1.3  |||메물 제목, 주소, 상태, 신청자 정보를 포함한다.||||8.1.3, 8.1.5|H||
| 3.1.4  |||승인, 거절, 심사중 상태를 색상과 라벨로 구분해 직관적으로 확인 가능하도록 한다.|||||H||
|   4    |지도 위치 설정 기능|||||||||
|  4.1   ||사용자가 지도를 통해 정확한 매물 위치를 설정하도록 한다.|||||||||
| 4.1.1  |||사용자는 내 매물 등록 간 확대, 축소, 이동이 가능한 지도를 통해 위치를 탐색할 수 있도록 한다.||||28.1.1|H||
| 4.1.2  |||사용자가 클릭한 위치는 내부 데이터에 저장되고 매물 신청과 연결된다.||||8.1.5|H||
| 4.1.3  |||마커 이동 후 해당 좌표에 맞는 주소 정보를 자동으로 업데이트 한다.|||||H||
| 4.1.4  |||입력한 주소를 기반으로 지도 중심이 이동하고 해당 지점에 마커가 표시된다.|||||H||
| 4.1.5  |||사용자는 별도의 입력 없이 주소 필드에 자동 완성된 정보를 확인 할 수 있다.|||||H||
|   5    |소유권 증명 서류 업로드|||||||||
|  5.1   ||다양한 종류의 소유권 증명 서류를 업로드 할 수 있다.|||||||||
| 5.1.1  |||사용자는 드롭다운 또는 선택 박스를 통해 서류 타입을 선택할 수 있다.|||||H||
| 5.1.2  |||다른 형식의 파일은 업로드를 제한하고 오류 메시지를 제공한다.|||||H||
| 5.1.3  |||사용자가 필요에 따라 여러 개의 서류를 제출 할 수 있도록 지원한다.|||||H||
| 5.1.4  |||업로드 내역은 DB에 저장되어 추후 관리자가 확인할 수 있도록한다.||||7.1.2|H||
|   6    |심사 중 매물 신청 수정|||||||||
|  6.1   ||사용자가 심사중인 매물 신청 정보를 수정할 수 있다.|||||||||
| 6.1.1  |||승인,거절 상태일 경우 수정 기능은 비활성화된다.||||7.1.3, 7.1.4|H||
| 6.1.2  |||사용자는 기존 정보를 기반으로 필요한 항목만 변경 가능하다.|||||H||
| 6.1.3  |||최신 수정 이력을 기록한다.||||7.1.5|H||
|   7    |관리자 매물 신청 검토 및 처리|||||||||
|  7.1   ||관리자가 신청을 검통하고 승인 또는 거절한다.|||||||||
| 7.1.1  |||관리자는 리스트 형태로 모든 신청 내역을 확인할 수 있다. ||||3.1.3|H||
| 7.1.2  |||신청자의 입력값과 첨부 서류를 확인 가능하도록한다.|||||H||
| 7.1.3  |||승인된 신청은 Proporty 엔티티로 변환된다.||||8.1.2|H||
| 7.1.4  |||인력된 사유는 사용자에게 전달되어야한다.||||17.1.5|H||
| 7.1.5  |||추후 이력 관리와 감사 로그에 활용한다.|||||||H||
|   8    |매물 자동 생성|||||||||
|  8.1   ||승인된 신청 정보를 기반으로 매물을 자동 생성한다.|||||||||
| 8.1.1  |||추후 조회 시 신청과 매물을 서로 참조 할 수 있어야 한다.||||24.1.1, 25.1.1|H||
| 8.1.2  |||신청 정보가 DB의 Property 테이블에 새로운 레코드로 추가된다.|||||H||
| 8.1.3  |||제목은 중복되지 않도록 규칙을 적용한다,.|||||H||
| 8.1.4  |||매물과 사용자 간 관계가 매핑된다.||||15.1.1|H||
| 8.1.5  |||지도에서 입력한 좌표가 Property 엔티티에 저장된다.||||28.1.4|H||
|   9    |중개인 목록 표시|||||||||
|  9.1   ||현재 등록되어있는 중개인의 목록을 확인할 수 있는 기능|||||||||
| 9.1.1  |||사용자가 중개인 목록 아이콘을 클릭하면 현재 등록된 중개인의 목록을 확인할 수 있다.||||15.1.2|H||
| 9.1.2  |||검색창에 아무것도 없는 상태에서는 전체 중개인 목록을 표시한다.|||||H||
|  9.2   ||현재 등록되어 있는 중개인의 상세정보를 확인할 수 있는 기능|||||||||
| 9.2.1  |||사용자가 중개인 목록에서 상세 정보를 클릭하면 등록 된 중개인의 상세 정보가 표시된다.||||15.1.2|H||
| 9.2.2  |||상세정보에는 연락처 정보, 면허번호, 소개, 리뷰 등 중개인의 정보를 표시한다.||||15.1.2, 18.1.5|H||
| 9.2.3  |||총 거래 수와 진행 중인 거래 수를 상세정보에 표시한다.||||16.5.1|H||
| 9.2.4  |||상세정보안의 연락하기 버튼을 통해 사용자는 자신의 매물의 판매를 의뢰할 수 있다.||||16.1.3, 19.1.3|H||
|   10   |실거래가 |||||||||
|  10.1  ||지역, 평수, 가격범위, 거래 시점 기준으로 매물을 조회하는 기능|||||||||
| 10.1.1 |||지역은 행정구역 단위(시,군,구,동) 또는 특정 단지(아파트명)로 선택할 수 있도록 한다.||||33.1.1|H||
| 10.1.2 |||평수(또는 전용/공급 면적) 범위를 지정할 수 있도록 한다.||||33.1.1|H||
| 10.1.3 |||매매/전세/월세 가격 범위를 입력 가능하도록 한다.||||33.1.1|H||
| 10.1.4 |||거래 시점(최근 거래, 특정 연도,월) 기준으로 필터링을 할 수 있도록 한다.||||33.1.1|H||
|  10.2  ||현재 호가와 과거 실거래가를 비교하는 기능|||||||||
| 10.2.1 |||호가 vs 실거래가 차이를 수치 및 그래프로 표시한다.||||27.1.1, 38.1.1|H||
| 10.2.2 ||| + -% 변동율을 계산할 수 있도록 한다.||||10.3.2|H||
| 10.2.3 |||특정 단지/지역의 평균 실거래가와 현재 호가를 비교한다.||||10.4.1|H||
|  10.3  ||일정 기간 동안 시세 변동률을 분석하는 기능|||||||||
| 10.3.1 |||3개월 6개월 1년 단위의 거래금액의 추이 그래프를 제공한다.||||39.1.3|H||
| 10.3.2 |||상승률과 하락률을 계산한다.|||||H||
| 10.3.3 |||지역별, 단지별 비교를 할 수 있도록 한다. ||||10.4.3|H||
|  10.4  ||특정 단지나 지역의 평균 및 중위 가격을 계산하는 기능|||||||||
| 10.4.1 |||최근 1개월 / 3개월 / 1년 기준으로 평균 중위 가격을 산출해낸다.||||38.1.1|H||
| 10.4.2 |||거래 건수와 함께 평균 중위 가격을 표시한다.|||||H||
| 10.4.3 |||동일 면적 기준으로 중위 가격을 비교 가능하도록 한다.||||27.1.1|H||
|   11   |회원가입|                                     ||||||     |       |
|  11.1  |            |사용자가 이메일, 비밀번호, 역할 등을 입력하여 계정을 생성한다. ||||||||
| 11.1.1 |            |                                     |사용자 유형은 reqular, broker, admin 중 하나를 선택한다.||||15.1.1|H|       |
| 11.1.2 |            |                                     |broker 선택 시 licenseNumber를 필수로 기입하고 agencyName을 선택적으로 기입한다.||||15.1.2|H|       |
| 11.1.3 |            |                                     |이메일, 사용자명, 비밀번호(8~64자)의 입력값을 검증한다.||||14.1.5|H|       |
| 11.1.4 |            |                                     |이미 등록된 이메일일 경우 오류를 반환한다.|||||H|       |
| 11.1.5 |            |                                     |회원가입 시 최대 30개의 중복 불가인 태그 등록이 가능하고 없는 태그는 DB에서 자동으로 생성한다.||||15.2.3|H|       |
| 11.1.6 |            |                                     |회원가입 완료 시 사용자/중개사 프로필(broker일 경우)/ 태그를 저장한다.||||15.1.1, 15.1.2|H|       |
| 11.1.7 |            |                                     |회원가입 성공 시 로그인 페이지로 이동한다.||||12.1.1|H|       |
|   12   |로그인 / 토큰 관리|                                     ||||||     |       |
|  12.1  |            |사용자가 로그인 후 토큰을 발급받아 인증을 유지한다.    ||||||     |       |
| 12.1.1 |            |                                     |이메일과 비밀번호로 로그인을 시도한다.||||11.1.3|H|       |
| 12.1.2 |            |                                     |로그인 성공 시 AccessToken(JWT)와 RefreshToken을 발급한다.|||||H|       |
| 12.1.3 |            |                                     |rememberMe 옵션에 따라 RefreshToken 만료일을 14일과 30일 중 결정한다.|||||H|       |
| 12.1.4 |            |                                     |로그인 실패 시에 에러 메세지를 반환한다.|||||H|       |
| 12.1.5 |            |                                     |로그인 성공 시 사용자의 역할에 따라 메인 페이지가 분기된다.||||11.1.1|H|       |
| 12.1.6 |            |                                     |RefreshToken을 이용해 새로운 AccessToken 재발급이 가능하다.|||||H|       |
| 12.1.7 |            |                                     |만료/폐기된 RefreshToken 사용 시 오류를 반환한다.||||13.1.1|H|       |
|   13   |로그아웃|                                     ||||||     |       |
|  13.1  |            |사용자가 로그아웃하여 인증 세션을 종료한다.||||||     |       |
| 13.1.1 |            |                                     |RefreshToken을 revoked 처리하여 무효화한다.||||12.1.2|H|       |
| 13.1.2 |            |                                     |브라우저 쿠키와 LocalStorage/SessionStorage의 토큰을 삭제한다.||||12.1.2|H|       |
| 13.1.3 |            |                                     |로그아웃 완료 후 재인증 없이는 API 요청이 불가하다.||||12.1.6|H|       |
|   14   |비밀번호 재설정|                                     ||||||     |       |
|  14.1  |            |비밀번호를 분실한 사용자가 비밀번호를 재설정한다.||||||     |       |
| 14.1.1 |            |                                     |비밀번호 찾기 요청 시 PasswordResetToken을 발급하고 비밀번호 재설정 링크가 담긴 이메일을 발송한다.||||12.1.2|H|       |
| 14.1.2 |            |                                     |토큰은 1시간 동안 유효하고, 만료 시 재사용이 불가하다.||||12.1.7|H|       |
| 14.1.3 |            |                                     |메일 링크를 클릭 시 비밀번호 재설정 화면으로 이동한다.|||||H|       |
| 14.1.4 |            |                                     |새 비밀번호 입력 시 토큰 유효성 검증 후 비밀번호가 변경된다.||||15.2.5|H|       |
| 14.1.5 |            |                                     |새 비밀번호 또한 8~64자로 제한되며, 기존과 동일 시 오류를 반환한다. ||||15.2.4|H|       |
| 14.1.6 |            |                                     |비밀번호 변경이 완료되면 로그인 페이지로 이동한다.||||12.1.1|H|       |
|   15   |사용자 프로필 관리|                                     ||||||     |       |
|  15.1  |            |사용자가 자신의 프로필 정보를 조회한다.||||||     |       |
| 15.1.1 |            |                                     |내 정보 조회 시 이메일, 닉네임, 역할, 전화번호, 소개글, 사진, 태그를 반환한다.||||12.1.2|H|       |
| 15.1.2 |            |                                     |broker 계정인 경우 licenseNumber, agencyName, intro, profileImageUrl을 포함한다.||||11.1.2|H|       |
|  15.2  |            |사용자가 자신의 프로필 및 태그를 수정한다.||||||     |       |
| 15.2.1 |            |                                     |프로필 수정 시 현재 비밀번호 검증을 필요로 한다.||||12.1.1|H|       |
| 15.2.2 |            |                                     |사용자는 프로필의 태그, 사진, 비밀번호, 프로필 소개문을 수정할 수 있다.||||15.1.1, 15.1.2|H|       |
| 15.2.3 |            |                                     |태그는 수정 시 전체 삭제 후 재등록한다. (최대 30개, 중복 불가, 없으면 DB 생성)||||40.1.3|H|       |
| 15.2.4 |            |                                     |비밀번호 변경 시에는 기존 비밀번호 검증 및 동일 여부를 확인한다.||||12.1.1|H|       |
| 15.2.5 |            |                                     |비밀번호 변경 성공 시 새로운 해시로 저장한다.|||||H|       |
|   16   |위임 관리|                                     ||||||     |       |
|  16.1  |            |매물 소유자는 본인 매물 목록에서 판매할 매물을 선택하고, 거래 옵션을 포함해 브로커에게 위임 요청을 보낼 수 있다.||||||     |       |
| 16.1.1 |            |                                     |거래 유형이 매매인 경우는 매매가를, 전세인 경우는 보증금을, 월세인 경우는 보증금과 월세를 반드시 입력한다.||||26.1.3|H|       |
| 16.1.2 |            |                                     |동일 매물에 이미 처리 대기 중인 요청이 있으면 새 요청을 보낼 수 없다.||||16.2.3|H|       |
| 16.1.3 |            |                                     |브로커는 실제 브로커 프로필이 존재하는 사용자여야 한다.||||15.1.2|H|       |
| 16.1.4 |            |                                     |요청이 접수되면 상태는 PENDING으로 시작한다.||||16.3.1|H|       |
|  16.2  |            |브로커는 자신에게 도착한 위임 요청 목록을 확인하고, 요청별로 승인하거나 거절할 수 있다.||||||     |       |
| 16.2.1 |            |                                     |요청을 승인하면 해당 매물이 매물 목록 리스트에 등록된다.||||24.1.1|H|       |
| 16.2.2 |            |                                     |요청 거절 시 거절 사유를 입력할 수 있다.||||7.1.4|H|       |
| 16.2.3 |            |                                     |이미 처리된 요청은 승인/거절할 수 없다.|||||H|       |
|  16.3  |            |소유자는 본인이 보낸 위임 요청 내역을 확인하고, 대기 중인 요청은 취소할 수 있다.||||||     |       |
| 16.3.1 |            |                                     |보낸 요청을 취소하면  상태가 CANCELED로 변경된다,||||16.4.1|H|       |
|  16.4  |            |소유자는 본인이 보낸 위임 요청을 삭제할 수 있다.||||||     |       |
| 16.4.1 |            |                                     |승인된 요청은 삭제할 수 없고, 대기/거절/취소된 요청은 삭제할 수 있다.||||16.2.1|H|       |
|  16.5  |            |위임 요청 시 브로커 선택 목록에서 각 브로커의 거래 건수를 확인할 수 있다.||||||     |       |
| 16.5.1 |            |                                     |진행 중 거래 건수와 완료된 거래 건수가 표시되어 비교 선택에 활용된다.|||||H|       |
|   17   |알림 기능|                                     ||||||     |       |
|  17.1  |            |시스템에서 조건을 만족할 시 사용자에게 알림을 보낸다.||||||     |       |
| 17.1.1 |            |                                     |사용자가 즐겨찾기한 매물이 거래가 완료되었다면 사용자에게 찜한 매물 거래 완료 알림을 전송한다.||||30.3.1|H|       |
| 17.1.2 |            |                                     |사용자가 즐겨찾기한 매물의 가격이 하락되었다면 사용자에게 찜한 매물 가격 하락 알림을 전송한다.||||30.3.1|H|       |
| 17.1.3 |            |                                     |매물 추천 알고리즘을 통해 조건이 만족된 매물이 등록이 되었다면 사용자에게 새로운 추천 매물 알림을 전송한다.||||40.1.8|H|       |
| 17.1.4 |            |                                     |사용자가 설정한 예산 범위에 해당하는 매물이 등록되었다면 사용자에게 가격 알림 설정 도달 알림을 전송한다.||||33.1.1|H|       |
| 17.1.5 |            |                                     |관리자가 소유자가 보유한 매물의 승인 요청을 수락하였을 경우 사용자에게 계약서 검토 완료 알림을 전송한다.||||7.1.3|H|       |
| 17.1.6 |            |                                     |사용자가 구매중인 매물의 중개인이 거래 완료 처리를 할 경우 사용자에게 구매 완료 알림을 전송한다.||||18.1.2|H|       |
|  17.2  |            |사용자가 알림 목록을 확인한다.||||||     |       |
| 17.2.1 |            |                                     |사용자는 사이드 바의 알림 아이콘을 눌러 알림함을 열 수 있다.|||||H|       |
| 17.2.2 |            |                                     |알림은 최신순으로 표시되며 읽음/안읽음 상태가 표시된다. ||||22.1.1|H|       |
| 17.2.3 |            |                                     |사용자는 '모든 알림 읽음 처리' 또는 개별 알림을 읽음/삭제할 수 있다.||||22.1.2|H|       |
| 17.2.4 |            |                                     |네트워크 오류로 알림을 불러오지 못하면 캐시된 알림을 먼저 보여주고, '동기화 실패' 안내가 표시된다.|||||H|       |
| 17.2.5 |            |                                     |찜한 매물 거래 완료 알림을 통해 자신이 즐겨찾기한 매물이 거래 완료되었다는 사실을 확인할 수 있다.||||17.1.1|H|       |
| 17.2.6 |            |                                     |찜한 매물 가격 하락 알림을 통해 자신이 즐겨찾기한 매물의 가격이 하락되었다는 사실을 확인할 수 있다.||||17.1.2|H|       |
| 17.2.7 |            |                                     |새로운 추천 매물 알림을 통해 추천 매물에 새로운 매물이 추가되었을 경우 이 사실을 확인할 수 있다.||||17.1.3|H|       |
| 17.2.8 |            |                                     |가격 알림 설정 도달 알림을 통해 사용자가 설정한 예산 범위에 해당하는 매물이 등록될 경우 이 사실을 확인할 수 있다.||||17.1.4|H|       |
| 17.2.9 |            |                                     |계약서 검토 완료 알림을 통해 자신이 소유한 매물이 관리자에 의해 승인되었는지를 확인할 수 있다.||||17.1.5|H|       |
| 17.2.10 |            |                                     |구매 완료 알림을 통해 자신이 구매중인 매물이 구매 완료 되었다는 사실을 확인할 수 있다.||||17.1.6|H|       |
|  17.3  |            |사용자가 알림을 클릭하여 알림 유형에 맞는 처리를 할 수 있다.||||||     |       |
| 17.3.1 |            |                                     |새 채팅 메시지 알림을 클릭하면 해당 메시지의 채팅창으로 이동한다. ||||19.1.1|H|       |
| 17.3.2 |            |                                     |만약 해당 채팅방이 삭제되었거나 권한이 없으면 '대상을 찾을 수 없습니다' 메시지가 표시되고 알림은 읽음 처리된다.||||22.1.1|H|       |
| 17.3.3 |            |                                     |찜한 매물 거래 완료 알림을 클릭하면 추천 매물 목록으로 이동한다.||||40.1.8|H|       |
| 17.3.4 |            |                                     |매물 정보가 삭제된 경우 기본 추천 매물 목록으로 이동한다.||||40.1.8|H|       |
| 17.3.5 |            |                                     |찜한 매물 가격 하락 알림을 클릭하면 해당 매물 상세 페이지로 이동한다.||||26.1.1|H|       |
| 17.3.6 |            |                                     |해당 매물이 삭제되었다면 "대상을 찾을 수 없습니다" 안내 후 알림만 읽음 처리된다.||||22.1.1|H|       |
| 17.3.7 |            |                                     |새로운 추천 매물 알림을 클릭하면 해당 매물의 상세 페이지로 이동한다.||||26.1.1|H|       |
| 17.3.8 |            |                                     |해당 매물이 삭제되었다면 "매물을 찾을 수 없습니다" 안내 후 추천 매물 목록으로 이동한다.||||40.1.8|H|       |
| 17.3.9 |            |                                     |가격 알림 설정 도달 알림을 클릭하면 해당 매물 상세 페이지로 이동한다. ||||26.1.1|H|       |
| 17.3.10 |            |                                     |매물이 삭제된 경우 알림만 읽음 처리된다.||||22.1.1|H|       |
| 17.3.11 |            |                                     |계약서 검토 완료 알림을 클릭하면 내 매물 목록으로 이동한다. ||||24.1.1|H|       |
| 17.3.12 |            |                                     |구매 완료 알림을 클릭하면 구매 완료 페이지로 이동한다.|||||H|       |
| 17.3.13 |            |                                     |구매 완료 알림에는 평점 작성 버튼이 함께 표시된다.||||18.1.1|H|       |
|   18   |평점 기능|                                     ||||||     |       |
|  18.1  |            |사용자가 브로커와 매물에 평점을 작성한다.||||||     |       |
| 18.1.1 |            |                                     |브로커에 대한 평점은 구매 완료 탭과 알림에서 작성이 가능하고, 매물에 대한 평점은 매물 상세 페이지와 알림에서 작성이 가능하다.||||26.1.1|H|       |
| 18.1.2 |            |                                     |사용자는 구매 완료된 거래에서만 평점을 작성할 수 있고, 거래 관련 알림을 받은 뒤 2주 내 작성할 수 있다. 기한이 지나면 '평가 기간이 만료되었습니다'가 표시된다.||||17.1.6|H|       |
| 18.1.3 |            |                                     |별점(1.0~5.0, 0.5 단위)과 텍스트(최대 100자)를 입력한다. 유효 범위를 벗어나면 '유효하지 않은 평점입니다' 오류가 표시된다.|||||H|       |
| 18.1.4 |            |                                     |동일 거래에 대해 중복으로 평점을 제출하려 하면 '이미 평점을 작성했습니다'가 표시된다.|||||H|       |
| 18.1.5 |            |                                     |브로커에 대한 평점은 브로커 프로필에 평균 별점, 리뷰 수가 표시되어 브로커 선택에 활용된다.||||15.1.2|H|       |
| 18.1.6 |            |                                     |브로커가 비활성/존재하지 않으면 "브로커 정보를 찾을 수 없습니다' 안내 후 작성이 취소된다.||||15.1.2|H|       |
| 18.1.7 |            |                                     |매물에 대한 평점은 매물 상세에 평균 별점, 리뷰 수, 최근 리뷰가 표시된다.||||26.1.2|H|       |
| 18.1.8 |            |                                     |매물이 삭제/비공개면 '매물 정보를 찾을 수 없습니다' 안내 후 작성이 취소된다.||||26.1.4|H|       |
| 18.1.9 |            |                                     |평점이 제출되면 즉시 반영되며, 사용자는 수정/삭제할 수 있다.|||||H|       |
| 18.1.10 |            |                                     |서버 오류로 평점 저장 실패 시 '평점을 저장할 수 없습니다. 잠시 후 다시 시도해주세요' 안내와 함께 작성을 다시 요청 받는다.|||||H|       |
|   19   | 채팅방 접속 및 생성 ||                                                                                                     |||||      ||
|  19.1  |             |사용자가 매물 상세 페이지에서 채팅방에 접속하거나, 없을 경우 새로운 채팅방을 생성한다.	|                                                                                                     |||||      ||
| 19.1.1 |             ||                           사용자가 매물 상세 화면에서 '대화하기' 버튼을 클릭하면 채팅방에 접속을 시도한다.                            ||||26.1.1|  H   ||
| 19.1.2 |             ||                                  기존에 해당 매물에 대한 채팅방이 있으면 그대로 입장한다.                                   ||||21.1.1|  H   ||
| 19.1.3 |             ||                                        채팅방이 없다면 새 채팅방이 생성된다.                                        |||||  H   ||
| 19.1.4 |             ||                             참여자는 2명(매도인–매수인) 또는 3명(판매자–중개인–구매자)으로 제한된다.                             ||||16.2.1|  H   ||
| 19.1.5 |             ||                            사용자와 매물이 중복되는 채팅방에는 들어갈 수 없으며, 중복 시 오류가 발생한다.                            |||||  H   ||
| 19.1.6 |             ||                                     채팅방에는 참여자 정보와 생성 시각이 기록된다.                                      ||||15.1.1|  H   ||
|   20   |메시지 송수신             ||                                                                                                     |||||      ||
|  20.1  |             |사용자가 채팅방에서 메시지를 주고받을 수 있다.	|                                                                                                     |||||      ||
| 20.1.1 |             ||                                     사용자가 채팅방에서 메시지를 주고받을 수 있다.	                                     |||||  H   ||
| 20.1.2 |             ||                                  메시지가 비어 있으면 전송되지 않고 오류 안내가 표시된다.                                   |||||  H   ||
| 20.1.3 |             ||                                메시지는 즉시 상대방에게 전달되며, 동시에 대화 내역에 저장된다.                                 ||||21.1.1|  H   ||
| 20.1.4 |             ||                                  메시지에는 발신자, 발신 시각, 읽음 여부가 함께 기록된다.                                  ||||22.1.1|  H   ||
| 20.1.5 |             ||                               사용자는 채팅방에서 이전 메시지를 불러와 시간순으로 확인할 수 있다.                                ||||21.1.3|  H   ||
|   21   |     기존 대화 내역 불러오기        ||                                                                                                     |||||      ||
|  21.1  |             |사용자가 채팅방에 재접속했을 때 과거 메시지를 확인할 수 있다.|                                                                                                     |||||      ||
| 21.1.1 |             ||                            사용자가 채팅방에 입장하면 가장 최근 메시지부터 일정 개수의 메시지가 표시된다.                             ||||23.1.1|  H   ||
| 21.1.2 |             ||                     더 오래된 메시지가 필요할 경우 사용자는 스크롤 또는 요청을 통해 과거 메시지를 추가로 불러올 수 있다.                      ||||23.1.2|  H   ||
| 21.1.3 |             ||                                        메시지는 시간순으로 정렬되어 표시된다.                                        |||||  H   ||
|   22   | 읽음 처리            ||                                                                                                     |||||      ||
|  22.1  |             |사용자가 읽은 메시지를 표시하고, 상대방도 이를 확인할 수 있다.|                                                                                                     |||||      ||
| 22.1.1 |             ||                               사용자가 채팅방에서 메시지를 확인하면 해당 메시지는 읽음 처리 된다.                                |||||  H   ||
| 22.1.2 |             ||                                   모든 미확인 메시지를 한 번에 읽음 처리할 수도 있다.                                    |||||  H   ||
| 22.1.3 |             ||                                  읽지 않은 메시지 개수는 채팅방 목록이나 알림에 표시된다.                                   ||||17.2.2|  H   ||
|   23   | 재접속 시 이어보기            ||                                                                                                     |||||      ||
|  23.1  |             |사용자가 채팅방에 다시 들어왔을 때 마지막으로 본 지점 이후의 메시지만 확인할 수 있다.|                                                                                                     |||||      ||
| 23.1.1 |             ||                      사용자가 채팅방을 나갔다가 다시 들어오면, 마지막으로 읽었던 메시지 이후의 새로운 메시지만 표시된다.                       ||||22.1.1|  H   ||
| 23.1.2 |             ||                        이를 통해 불필요하게 과거 내역을 반복해서 불러오지 않고, 효율적으로 대화를 이어볼 수 있다.                         |||||  H   ||
|   24   | 내 매물 관리            ||                                                                                                     |||||      ||
|  24.1  |             |사용자가 본인이 등록한 매물을 따로 확인한다.|                                                                                                     |||||      ||
| 24.1.1 |             ||                            사용자는 로그인 후 `내 매물` 메뉴에서 자신이 등록한 매물만 확인할 수 있다.                             ||||8.1.4, 12.1.2|  H   ||
| 24.1.2 |             ||                                  필터와 정렬 방식은 전체 목록과 동일하게 사용할 수 있다.                                   ||||33.1.1|  H   ||
| 24.1.3 |             ||                              자신의 매물을 수정하고자 할 때에는 삭제 후 재인증으로 변경할 수 있다.                               ||||6.1.2|  H   ||
|   25   |   상의 매물 조회          ||                                                                                                     |||||      ||
|  25.1  |             |사용자가 다른 소유자가 등록한 매물만 확인한다.	|                                                                                                     |||||      ||
| 25.1.1 |             ||                                로그인 사용자는 자신이 등록하지 않은 매물만 따로 조회할 수 있다.                                ||||8.1.4, 12.1.2|  H   ||
| 25.1.2 |             ||                                      필터와 정렬 기능은 전체 목록과 동일하다.	                                       ||||33.1.1|  H   ||
| 25.1.3 |             ||                               다른 소유자의 매물이라도 기본 정보와 거래 조건은 열람할 수 있다.	                                ||||26.1.2, 26.1.3|  H   ||
|   26   |   매물 상세 조회          ||                                                                                                     |||||      ||
|  26.1  |             |사용자가 특정 매물의 세부 내용을 확인한다.|                                                                                                     |||||      ||
| 26.1.1 |             ||      로그인 사용자는 특정 매물을 선택해 상세 정보를 볼 수 있다.	                                                                                               ||||12.1.2|  H   ||
| 26.1.2 |             ||   상세 정보에는 제목, 주소, 가격, 면적, 건축년도, 거래 상태 등이 포함된다.	                                                                                                  ||||8.1.2, 8.1.3|  H   ||
| 26.1.3 |             ||    추가로 매물에 연결된 거래 조건(매매/전세/월세, 보증금, 관리비 등)도 확인할 수 있다.	                                                                                                 ||||37.1.1|  H   ||
| 26.1.4 |             ||    타인의 매물도 상세 정보를 열람할 수 있다.	                                                                                                 ||||25.1.1|  H   ||
|   27   |     허위 매물 탐지        ||                                                                                                     |||||      ||
|  27.1  |             |중개인이 등록한 매물의 평당 가격을 기준으로 주변 시세와 비교하여 이상치를 탐지하고 기록한다.	|                                                                                                     |||||      ||
| 27.1.1 |             || 해당 매물의 가격과 주변 매물의 동일 면적 기준 중위 가격을 비교하여, 0.8 × 중위 가격 ≤ 매물의 가격 ≤ 1.2 × 중위 가격을 벗어나면 이상치로 판정한다.                                                                                                    ||||10.4.3, 38.1.1|  H   ||
| 27.1.2 |             ||  이상치로 분류된 매물은 price_anomalies 테이블에 기록한다.                                                                                                   |||||  H   ||
| 27.1.3 |             |UI 상에 아이콘 및 경고 문구를 노출한다.	|                                                                                                     |||||  H   ||
| 27.1.4 |             ||    매물 목록 화면에서 이상치 매물은 아이콘 및 경고 문구를 노출한다.                                                                                                 ||||27.1.2|  H   ||
| 27.1.5 |             ||    이상치 표시는 고객이 매물을 인지하고 거래 판단에 참고할 수 있도록 제공한다.  
|   28   | 지도매물 시각화 |                                   |                                                                                     |||||              ||
|  28.1  |          |  사용자의 지도 화면에 매물 위치를 아이콘으로 표시한다.   |                                                                                     |||||              ||
| 28.1.1 |          |                                   |                              네이버 지도 API를 이용하여 지도를 띄운다.                              |||||      H       ||
| 28.1.2 |          |                                   |                    로그인을 하지 않아 토큰이 없으면 오류 메시지를 띄우며 로그인 페이지로 이동한다.                    ||||12.1.2|      H       ||
| 28.1.3 |          |                                   |                              지도 호출 실패시 재시도 및 오류를 출력한다.                              |||||      H       ||
| 28.1.4 |          |                                   |                         등록된 매물의 위치 정보를 불러와 지도에 마커와 함께 표시한다                          ||||8.1.5|      H       ||
| 28.1.5 |          |                                   |       매물의 상태 정보 [available,pending,sold]을 기준으로 색상을 달리하며 마커의 색상을 변경한다.       ||||3.1.4|      H       ||
| 28.1.6 |          |                                   | 매물 클릭시 매물의 정보를 properties , property_images, property_offers table에서 받아와 각 정보를 띄운다. ||||31.1.1|      H       ||
| 28.1.7 |          |                                   |                       일정 시간 후 지도를 재조회 하여 새로운 정보를 받아와 지도에 띄운다.                       |||||      H       ||
| 28.1.8 |          |                                   |                         지도의 줌*팬 이벤트 발생 시 범위 재조회 및 마커 갱신한다.                          ||||35.1.1|      H       ||
| 28.1.9 |          |                                   |                           사용자 지정 조건 필터 적용 시 해당 매물만 표시한다.                            ||||33.1.1|      H       ||
|   29   |사용자 위치 표시|                                   |                                                                                     |||||              ||
|  29.1  ||          현재 사용자 위치를 표시한다          |                                                                                     |||||              ||
| 29.1.1 |          |                                   |사용자의 현재 위치를 받아올 수 있으면 중심을 그 위치로 옮긴다.||||28.1.8|      H       ||
| 29.1.2 |          |                                   |사용자의 현재 위치를 받아오지 못하면 시청을 중심을 디폴트 값으로 지정한다.|||||      H       ||
| 29.1.3 |          |                                   |현재 gps를 받아올지 사용자에게 승인을 받는다.|||||      H       ||
|   30   |지도 매물 즐겨찾기|                                   |                                                                                     |          ||||                  ||
|  30.1  |          |            즐겨찾기를 조회한다             |                                                                                     |||||              ||
| 30.1.1 |          |                                   |                         즐겨찾기 탭 클릭 시 저장된 즐겨찾기 목록을 조회하여 표시한다,                         |||||      H       ||
| 30.1.2 |          |                                   |                     현재 로그인된 아이디의 토큰을 받아와 그와 일치하는 즐겨찾기 매물을 표시한다.                     ||||12.1.2|      H       ||
| 30.1.3 |          |          조회된 매물 정보 확인한다           |                                                                                     |||||      H       ||
| 30.1.4 |          |                                   |                  즐겨찾기 목록 항목 클릭 시 지도 중심을 해당 매물 좌표로 이동하고 상세정보 창을 연다.                  ||||31.1.1|      H       ||
|  30.2  |          |            정보확인에 실패한다             ||||||              ||
| 30.2.1 |          |                                   |      정보 확인 실패시 실패 원인과 함께 상단에 띄운다.                                                                               |||||      H       ||
|  30.3  |          |             즐겨찾기 추가한다             |                                                                                     |||||              ||
| 30.3.1 |          |                                   |                     매물에서 하트 버튼을 클릭시 즐겨찾기 클릭시 현재 로그인된 아이디의 토큰으로 id를 받아와서 즐겨찾기에 등록한다.                                                                ||||12.1.2|      H       ||
| 30.3.2 |          |                                   |               즐겨찾기 등록시 즐겨찾기 하트 버튼 빨간색으로 변한뒤 favorites table에서 data를 추가한다.                                                                      ||||30.4.2|      H       |
|  30.4  |          |             즐겨찾기 제거한다             |                                                                                     |||||              ||
| 30.4.1 |          |                                   |            빨같게 켜져있는 즐겨찾기 버튼을 클릭시 현재 로그인이 되어있는 아이디의 토큰을 받아와서 즐겨찾기를 해재한다.                                                                         ||||12.1.2|      H       ||
| 30.4.2 |          |                                   |                     즐겨찾기 해제시 즐겨찾기 하트 버튼 회색으로 변한뒤 favorites table에서 data를 지운다.                                                                |||||      H       ||
|   31   |   매물 상세 정보 표시       |                                   |                                                                                     |||||              ||
|  31.1  |          |       매물 클릭시 매물 정보표시창를 표시한다       |                                                                                     |||||              ||
| 31.1.1 |          |                                   |             마커 클릭시 property_id를 획득하고 api로 호출하여 세부 정보를 수신 받는다.                                                                        ||||26.1.1|      H       ||
| 31.1.2 |          |                                   |                                  수신 받은 정보를 사이드바에 렌더링하여 표시한다.                                                   ||||26.1.2|      H       ||
|  32.1  |          |          매물 정보 표시를 실패한다           |                                                                                     |||||||              ||
| 32.1.1 |          |                                   |    매물 정보 표시 실패시 실패 표시와 함께 화면을 새로고침 한다.                                                                                 ||||28.1.7|      H       ||
|   33   |   필터       |                                   |                                                                                     |||||              ||
|  33.1  |          |            개별 필터를 지정한다            |                                                                                     |||||              ||
| 33.1.1 |          |                                   |                        필터를 지정시 매물 property_offers, properties의 정보를 받아와서 지도에 그의 맞는 매물 표시한다.                                                             ||||26.1.2, 26.1.3|      H       ||
| 33.1.2 |          |                                   |                                                               필터 등록된 정보는 지도가 재호출 될때는 버튼 클릭을 완료시에 지정된다.                      ||||28.1.7|      H       ||
| 33.1.3 |          |                                   |                                                                             필터를 지정하지 않으면 모든 매물을 띄운다.        ||||28.1.4|      H       ||
|  33.2  |          |            종합 필터를 지정한다            ||||||              ||
| 33.2.1 |          |                                   |모든 필터를 한번에 지정후 적용 버튼을 클릭시 필터가 적용된다.||||33.1.1|      H       ||
|  33.3  |          |            필터 지정에 실패한다            ||||||              ||
| 33.3.1 |          |                                   |필터 지정 실패시 오류 메시지와 함께 필터가 헤제된다.|||||      H       ||
|   34   |    유동인구 레이어 토글      |                                   ||||||              ||
|  34.1  |          |      지도에 유동인구 히트맵/그리드를 켜고 끈다      ||||||              ||
| 34.1.1 |          |                                   |사용자는 상단 스위치로 유동인구 레이어를 토글하며, 켤 때 현재 뷰포트·줌·필터 기준으로 서버에서 데이터를 조회하고, 끌 때 모든 관련 오버레이와 범례를 제거한다.||||35.1.1|      H       ||
|   35   |   유동인구 뷰포트 조회       |                                   ||||||              ||
|  35.1  |          | 화면 경계 기반으로 셀(그리드/행정동/상권) 집계를 가져온다 ||||||              ||
| 35.1.1 |          |                                   |클라이언트는 dragend/zoom_changed 후 300ms 디바운스로 swLat,swLng,neLat,neLng,zoom과 필터를 전송한다||||28.1.8|      H       ||
| 35.1.2 |          |                                   |서버는 줌별 해상도 규칙에 맞는 셀 레벨을 선택해 집계값과 기하를 GeoJSON 또는 MVT로 반환한다.||||35.3.1|      H       ||
|  35.2  |          |      유동인구 시간대별 요일/기간 을 적용한다       ||||||              ||
| 35.2.1 |          |                                   |사용자는 시간(0–23h), 요일(주중/주말/개별), 기간(최근 7/14/30일)을 선택한다. ||||33.1.1|      H       ||
| 35.2.2 |          |                                   |서버는 해당 윈도의 집계 평균·최댓값·신뢰도를 계산하여 반환한다.||||35.5.1|      H       ||
| 35.2.3 |          |                                   | 필터 변경 시 레이어가 즉시 재렌더링된다.|||||      H       ||
|  35.3  |          |     값 분포에 맞는 색상 스케일과 범례를 표시한다     ||||||              ||
| 35.3.1 |          |                                   |서버는 min/max와 등간·분위수 구간을 제공하고 클라이언트는 이에 맞춰 그라데이션 범례를 우하단에 렌더링하며 접근성을 위해 텍스트 수치와 단위를 함께 표기한다.|||||      H       ||
|  35.4  |          |        셀 클릭 시 통계 요약을 노출한다         ||||||              ||
| 35.4.1 |          |                                   |사용자가 셀을 클릭하면 평균 방문자수, 체류시간, 피크 시간, 주중/주말 비율, 최신 갱신시각, 표본수·신뢰도를 툴팁 또는 사이드패널로 보여준다.||||35.2.2|      H       ||
| 35.4.2 |          |                                   | 필요 시 cell/{id} 상세 API로 기간 시계열을 추가 요청한다.|||||      H       ||
|  35.5  |          |           유동인구 데이터 갱신한다           ||||||              ||
| 35.5.1 |          |                                   |ETL은 00:30 KST에 원천데이터를 익명화·집계하여 foot_traffic_* 테이블에 적재하고, 최신 윈도(예: 30일 롤링)를 유지하며 메타 테이블에 런 로그를 기록한다.|||||      H       ||
|   36   |    편의시설 레이어 토글      |                                   ||||||              ||
|  36.1  |          |      뷰포트·근방의 편의시설 POI를 표시한다       ||||||              ||
| 36.1.1 |          |                                   |사용자가 '편의시설' 스위치를 켜면 선택 카테고리에 맞는 POI를 뷰포트 또는 기준점 반경으로 요청해 마커/클러스터를 그린다. ||||28.1.8|      H       ||
| 36.1.2 |          |                                   |끄면 모든 마커와 패널·범례를 정리한다.|||||      H       |
| 36.1.3 |          |                                   |피처 수가 임계(예: 1,000) 이상이면 서버 또는 프론트 클러스터링을 활성화하여 원형 카운트 뱃지를 렌더하고, 클릭 시 확대 또는 스파이더링으로 개별 마커를 펼친다.|||||      H       ||
| 36.1.4 |          |                                   |동일 장소 중복은 이름 유사도·거리(20m 이내)로 2차 병합하여 대표 하나만 응답하며, 보조 명칭은 alias로 유지한다.|||||      H       ||
|  36.2  |          |     카테고리별 아이콘·색·반경 기본값을 정의한다      ||||||              ||
| 36.2.1 |          |                                   |각 범위별 아이콘 이미지를 지정한다.|||||      H       ||
| 36.2.2 |          |                                   |시스템은 지하철/버스/마트/병원/학교 등 주요 카테고리에 표준 아이콘(고해상도)과 색상을 할당하고, 기본 검색 반경(예: 버스 800m, 지하철 1.5km)을 UI 범례로 노출한다.|||||      H       ||
|  36.3  |          |         편의시설 상세 패널을 표시한다          ||||||              ||
| 36.3.1 |          |                                   |마커 클릭 시 이름/주소/카테고리/거리/영업시간/전화/평점/리뷰수/출처·표시의무를 사이드패널로 보여주고, 길찾기·웹사이트 링크를 제공한다.||||31.1.2|      H       ||
|  36.4  |          |         편의시설 정렬/필터를 설정한다.         ||||||      H       ||
| 36.4.1 |          |                                   |거리·평점 정렬과 다중 카테고리 필터를 지원한다||||33.1.1|      H       ||
| 36.4.2 |          |                                   |사용자는 카테고리를 다중 선택하고, 정렬을 거리/평점 중 선택하며, 서버는 ST_DistanceSphere와 평점·리뷰수를 함께 고려해 안정적 순위를 반환한다.|||||      H       ||
| 36.4.3 |          |                                   |서버는 400(필드별 메시지), 404, 429(대기시간 포함), 5xx를 통일 포맷으로 반환하고, 클라이언트는 토스트와 재시도 버튼을 제공하며, 반복 실패 시 레이어를 자동 비활성화한다.|||||      H       ||
|   37   |전세가율 계산기   |||||||      ||
|  37.1  ||매물의 매매가 대비 전세가가 얼마인지 계산한다.||||||      ||
| 37.1.1 |||DB에서 매물의 전세가와 매매가를 불러와 전세가/매매가*100으로 계산한다. 소수점 2자리까지 반올림 하여 상세페이지에 표시한다.||||26.1.3|   H   ||
| 37.1.2 |||매매가 데이터가 없을 경우 "정보 없음" 이라고 표시한다|||||   H   ||
| 37.1.3 |||주변 매물들의 전세가율과 비교해서 평균보다 높은지 낮은지 표시한다.||||10.4.1|   H   ||
| 37.1.4 |||매매가가 데이터에 없을 경우 시세예측한 데이터를 매매가로 사용해 AI예측 전세가율 이라고 표시한다||||39.1.2|  H    ||
|   38   |시세 예측 머신 러닝    |||||||      ||
|  38.1  ||과거 실거래가 데이터를 머신러닝을 통해 매물의 시세를 예측한다.||||||      ||
| 38.1.1 |||국토교통부 실거래가 공개시스템 API의 과거 실거래가 데이터를 수집한다.|||||   H   ||
| 38.1.2 |||특징을 추출하고 데이터를 정규화한다||||40.1.5|  H    ||
| 38.1.3 |||모델을 학습하고 평가 및 조정하여 최적의 모델을 선정한다||||39.1.2|   H   ||
|   39   |시세 예측     |||||||      ||
|  39.1  ||매물의 시세를 예측하여 표시한다||||||      ||
| 39.1.1 |||사용자가 매물 상세 페이지를 열면 시세 예측을 시작한다.||||26.1.1|   H   ||
| 39.1.2 |||현재 매물의 특징을 추출하고 구축한 모델에 입력하여 향후 시세를 예측한다.||||38.1.3|  H    ||
| 39.1.3 |||실제 과거 실거래가와 함께 예측한 시세를 신뢰도(정확도)와 함께 그래프로 시각화하여 표시한다||||38.1.1|  H    ||
|   40   |추천매물|||||||      ||
|  40.1  ||AI 기반 알고리즘을 통해 사용자의 관심사와 선호도를 분석하여 개인화된 매물을 추천하는 기능||||||      ||
| 40.1.1 |||사용자가 로그인하면 왼쪽 카드 패널의 추천매물 섹션에 접근이 가능하다.||||12.1.2|   H   ||
| 40.1.2 |||일정 개수의 매물을 보기 전이라면 현재까지 클릭한 매물 수를 표시한다.||||40.1.4|   H   ||
| 40.1.3 |||사용자가 매물을 클릭하여 상세페이지에 진입할 때, DB에 자동으로 사용자 ID, 매물ID + 매물 속성 정보를 저장한다.||||26.1.1, 15.2.3|   H   ||
| 40.1.4 |||조회한 매물 수가 일정 개수 이상이 되었는지 확인 후, 되었다면 계산하는 트리거가 발동된다.|||||   H   ||
| 40.1.5 |||수집된 데이터의 유효성 검증, 범주형 데이터의 원-핫 인코딩 변환, 수치형 데이터는 정규화 처리를 수행한다.||||40.1.6|   H   ||
| 40.1.6 |||전체 매물 DB의 모든 매물을 동일한 방식으로 벡터화한다.||||8.1.2|   H   ||
| 40.1.7 |||각 벡터와 사용자 프로필 벡터 간의 유사도를 계산하여 높은 순서대로 매물을 정렬한다.||||40.1.5|   H   ||
| 40.1.8 |||추천 매물 섹션에 정렬된 순서대로 매물을 표시한다.||||40.1.7|   H   ||
| 40.1.9 |||다른 매물을 클릭하면 다시 계산해서 높은 순서대로 재정렬한다.||||40.1.7|   H   ||
| 40.1.10 |||같은 매물을 한 번 더 조회하게 되면 별도의 감점을 줘서 추천 매물에 표시가 되지 않게 한다.||||40.1.3|   H   ||
|   41   | 경매 기능        | 매물에 대해 브로커 경매를 생성하고 입찰·낙찰·종료를 관리한다. ||||||H||
|  41.1  |                 | 매물 소유자는 자신의 매물에 대해 새로운 경매를 생성할 수 있다. ||||||H||
| 41.1.1 |                 |                                                   |매물 소유자는 자신의 매물에 대해 새로운 경매를 시작할 수 있다.                                                           |||||H||
| 41.1.2 |                 |                                                   |경매 생성 시 거래 유형, 주거 형태, 층수 등 경매 조건(필수 필드)이 모두 입력되어야만 경매를 등록할 수 있다.                           |||||H||
| 41.1.3 |                 |                                                   |사용자가 경매를 생성하려는 매물이 DB에 존재하지 않거나 조회 권한이 없으면 경매 생성이 불가하며 오류를 반환한다.                            |||||H||
| 41.1.4 |                 |                                                   |경매를 생성하려는 사용자가 해당 매물의 소유자가 아닌 경우, 해당 매물에 대한 경매 등록 요청을 거부한다.                                   |||||H||
| 41.1.5 |                 |                                                   |경매 대상 매물이 이미 브로커에게 위임된 상태라면, 위임된 매물에 대해 새로운 경매를 생성할 수 없다. (위임 상태 체크)                         ||||16.1.1|H||
| 41.1.6 |                 |                                                   |최근 30일 내 동일 매물에 대해 진행 중인 경매가 하나라도 존재하면 중복 경매 생성이 불가하다. (매물+기간 기준 중복 검사)                       |||||H||
| 41.1.7 |                 |                                                   |위 조건을 모두 통과하면 입력된 정보를 기반으로 새로운 경매 레코드를 생성하고 상태를 'IN_PROGRESS(진행중)'로 설정한다.                      |||||H||
|  41.2  | 입찰 제출 기능    | 브로커가 진행 중인 경매에 입찰 금액을 제출해 경쟁 입찰에 참여한다. ||||||H||
| 41.2.1 |                 |                                                   |브로커는 진행 중(IN_PROGRESS) 상태의 경매에 원하는 금액을 제출하여 입찰에 참여할 수 있다.                                       |||||H||
| 41.2.2 |                 |                                                   |브로커가 참여하려는 경매가 존재하지 않거나 이미 종료된(ENDED/COMPLETED) 경우, 입찰을 등록할 수 없다.                               |||||H||
| 41.2.3 |                 |                                                   |입찰을 제출하는 사용자가 실제 브로커 계정인지 검증하며, 브로커가 아닌 사용자의 입찰 참여는 제한한다. (role=broker 필수)                 ||||11.1.1|H||
| 41.2.4 |                 |                                                   |새로운 입찰 금액은 현재까지 제출된 최고 입찰 금액보다 높을 때만 유효한 입찰로 인정되며, 그렇지 않으면 오류를 반환한다.                        |||||H||
| 41.2.5 |                 |                                                   |유효한 입찰이 제출되면 해당 입찰 내용(브로커, 금액, 시각 등)을 저장하고 경매의 최고 입찰 정보에 즉시 반영한다.                            |||||H||
| 41.2.6 |                 |                                                   |새로운 유효 입찰이 등록되면 매물 소유자에게 “새로운 입찰 도착” 알림을 전송한다.                                        ||||17.1.1, 17.1.3|H||
| 41.2.7 |                 |                                                   |새로운 입찰 금액이 직전 최고 입찰 금액을 넘어섰을 경우, 직전 최고 입찰자에게 “내 입찰이 상회됨” 알림을 전송하여 경쟁 상황을 알린다.          ||||17.1.1, 17.1.2|H||
|  41.3  | 입찰 수락 및 경매 종료 | 매물 소유자가 특정 입찰을 선택해 경매를 종료하고 브로커를 확정한다. ||||||H||
| 41.3.1 |                 |                                                   |매물 소유자는 제출된 입찰 목록 중 하나를 선택하여 해당 경매를 종료할 수 있다.                                           |||||H||
| 41.3.2 |                 |                                                   |소유자가 아닌 사용자가 입찰을 선택하거나 경매 종료를 시도할 경우, 권한 부족 오류를 반환하고 경매 상태 변경을 허용하지 않는다.                |||||H||
| 41.3.3 |                 |                                                   |이미 종료(ENDED/COMPLETED)된 경매에서는 추가적인 입찰 수락이나 상태 변경이 이루어질 수 없다.                               |||||H||
| 41.3.4 |                 |                                                   |동일 경매에서 이미 낙찰 처리된 입찰이 존재하면, 새로운 입찰 수락이 금지된다. (단일 낙찰 보장)                                      |||||H||
| 41.3.5 |                 |                                                   |매물 소유자가 특정 입찰을 선택하면 해당 입찰을 최종 낙찰로 마킹하고, 경매 상태를 'COMPLETED' 또는 'ENDED'로 변경한다.                 |||||H||
| 41.3.6 |                 |                                                   |입찰이 수락되면 해당 브로커를 매물의 담당 브로커로 자동 지정하고, 매물의 거래 유형/상태를 브로커 매물로 전환한다.                         ||||16.2.1|H||
| 41.3.7 |                 |                                                   |경매가 종료되면 최종 낙찰 금액을 기반으로 새로운 판매 조건(PropertyOffer 등)을 자동 생성하여 해당 매물에 등록한다.                      ||||8.1.2, 26.1.3|H||
| 41.3.8 |                 |                                                   |경매가 종료되면 경매에 참여했던 모든 브로커에게 경매 종료 알림을 전송하며, 낙찰 여부에 따라 서로 다른 내용의 알림을 전송한다.                 ||||17.1.1, 17.2.7|H||
| 41.3.9 |                 |                                                   |낙찰된 브로커에게는 "최종 선정됨" 알림을, 낙찰되지 않은 브로커에게는 "경매 종료됨" 알림을 전송한다.                            ||||17.1.1, 17.1.6|H||
